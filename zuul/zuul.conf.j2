# This file is generated by Ansible
#  DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
#
[gearman]
port = 4730
server = {{ hostvars['gear01'].ansible_host }}
ssl_ca = {{ zuul_file_gearman_ssl_ca_dest }}
ssl_cert = {{ zuul_file_gearman_ssl_cert_dest }}
ssl_key = {{ zuul_file_gearman_ssl_key_dest }}

[gearman_server]
start = false

{% if not zuul_gerrit_disabled | default('', true) %}
[gerrit]
port = 29418
server = 127.0.0.1
sshkey = {{ zuul_user_home }}/.ssh/gerrit_id_rsa
user = zuul
{% endif %}

[scheduler]
tenant_config = {{ zuul_file_main_yaml_dest }}
log_config = /etc/zuul/scheduler-logging.conf
pidfile = /var/run/zuul-scheduler/zuul-scheduler.pid
state_dir = {{ zuul_user_home }}

{% if ansible_host | ipv4 %}
[statsd]
server = {{ hostvars['statsd01'].ansible_host }}
{% endif %}

[executor]
finger_port = 17979
log_config = /etc/zuul/executor-logging.conf
private_key_file = {{ zuul_user_home }}/.ssh/nodepool_id_rsa
workspace_root = {{ zuul_user_home }}/workspace

[fingergw]
listen_address = {{ hostvars['zf01'].ansible_host }}
log_config = /etc/zuul/fingergw-logging.conf
user = {{ zuul_user_name }}

[merger]
git_dir = {{ zuul_user_home }}/git
git_user_email = windmill@example.org
git_user_name = windmill
log_config = /etc/zuul/merger-logging.conf
pidfile = /var/run/zuul-merger/zuul-merger.pid
zuul_url = {{ hostvars['zs01'].ansible_host }}

[web]
log_config = /etc/zuul/web-logging.conf
listen_address = localhost
status_url = http://zuul.tsi-dev.otc-service.com/status.html

[zookeeper]
hosts = {{ hostvars['zk01'].ansible_host | ipwrap }}

{% if github_app_id | default('', false) %}
[connection github]
driver=github
app_id={{ github_app_id }}
app_key = {{ zuul_conf_dir }}/ssl/github.pem
webhook_token = {{ github_webhook_token }}
{% endif %}

{% if zuul_db_pass | default('', false) %}
[connection zuul_db]
driver = sql
dburi = mysql+pymysql://zuul:{{zuul_db_pass}}@localhost/zuul_db
{% endif %}
