{"version":3,"sources":["webpack:///./web/images/green.png","webpack:///./web/status.js","webpack:///./web/util.js","webpack:///./web/jquery.zuul.js","webpack:///./web/dashboard.js","webpack:///./web/stream.js","webpack:///./web/images/grey.png","webpack:///./web/styles/stream.css","webpack:///./web/styles/zuul.css","webpack:///./web/images/line-angle.png","webpack:///./web/styles/zuul.css?1a34","webpack:///./web/images/red.png","webpack:///./web/main.js","webpack:///./web/images/line.png","webpack:///./web/styles/stream.css?de83","webpack:///./web/images/line-t.png","webpack:///./web/images/black.png"],"names":["module","exports","__webpack_require__","p","_angular","_util","_angular2","default","controller","$scope","$http","$location","$","$container","$indicator","url","URL","window","location","params","BuiltinConfig","api_endpoint","searchParams","has","get","demo","DemoStatusBasic","DemoStatusOpenStack","DemoStatusTree","getSourceUrl","zuul","jq","on","addClass","removeClass","setTimeout","one","append","app","controlForm","schedule","document","show.visibility","options","enabled","update","hide.visibility","zuulStart","jQuery","filename","ZUUL_API_URL","currentUrl","tenant","includes","tenantStart","lastIndexOf","tenantEnd","indexOf","slice","extractTenant","href","baseHref","path","pathname","split","join","setCookie","name","value","cookie","readCookie","defaultValue","nameEQ","ca","i","length","c","charAt","substring","extend","graphite_url","source","source_data","msg_id","pipelines_id","queue_events_num","queue_management_events_num","queue_results_num","collapsedExceptions","currentFilter","changeSetInURL","$jq","xhr","zuulGraphUpdateCount","zuulSparklineURLs","format","job","$jobLine","result","attr","report_url","text","this","job_status","voting","toLowerCase","job_progress_bar","elapsed_time","remaining_time","status_label","$status","elapsedTime","remainingTime","progressPercent","$barInner","css","enqueueTime","ms","delta","Date","now","status","time","words","seconds","minutes","Math","floor","hours","r","changeTotalProgressBar","change","jobPercent","jobs","$barOutter","each","changeHeader","changeId","id","$changeLink","githubId","match","test","changeIdShort","substr","$changeProgressRowLeft","$changeProgressRowRight","$changeProgressRow","$projectSpan","project","$left","enqueue_time","$remainingTime","html","$enqueueTime","$right","live","change_list","$list","$item","changePanel","$header","panelId","replace","$panel","click","toggle_patchset","change_status_icon","iconFile","iconTitle","active","failing_reasons","reason","change_with_status_tree","changeQueue","$changeRow","_tree_columns","$treeCell","_tree","_line2","_tree_index","_tree_branches","$image","_lineAngle2","_lineT2","changeWidth","$changeColumn","pipeline_sparkline","pipelineName","fn","graphite","geturl","from","width","height","margin","hideLegend","hideAxes","hideGrid","target","getSparklineURL","pipeline_header","pipeline","count","$headerDiv","$heading","description","descr","index","descrPart","$html","change_queues","queueIndex","heads","headIndex","changes","shortName","changeIndex","$changeBox","display_patchset","e","nodeName","parents","children","toggle","collapsedIndex","push","splice","animate","find","panelChange","$body","expandByDefault","prop","show","hide","panelProject","panelPipeline","showPanel","filter","trim","filterVal","always","update_sparklines","injest","data","$msg","message","empty","zuul_version","lastReconfigured","last_reconfigured","toString","$pipelines","pipelines","create_tree","trigger_event_queue","result_event_queue","abort","emit","getJSON","done","fail","jqXHR","statusText","errMsg","undefined","newimg","Image","parts","src","getTime","load","trigger","apply","arguments","$controlForm","submit","handleFilterChange","filterFormGroup","expandFormGroup","$label","$input","$clearIcon","val","$checkbox","handleExpandByDefault","obj","checked","pipelineMaxTreeColumns","changeQueueIndex","tree","maxTreeColumns","lastTreeLength","head","_tree_position","idx","pop","items_behind","sort","a","b","tenants","tenants_fetch","then","$locationProvider","html5Mode","requireBase","jobs_fetch","rowClass","build","queryArgs","search","tenantLength","builds","job_name","builds_fetch","queryString","buildPos","node_name","log_url","onload","receiveBuffer","setInterval","console","log","getElementById","innerHTML","scrollTo","body","scrollHeight","uuid","logfileSuffix","websocket_url","protocol","ws","WebSocket","onmessage","event","charCodeAt","onopen","send","JSON","stringify","onclose","zuulStartStream","content","hmr","transform","insertInto","locals"],"mappings":"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","file":"main.97620dbaa42d3994a215.js","sourcesContent":["module.exports = __webpack_public_path__ + \"2d45371475e943735635b25d8e7fb892.png\";","/* global jQuery, URL, DemoStatusBasic, DemoStatusOpenStack, DemoStatusTree, BuiltinConfig */\n// Client script for Zuul status page\n//\n// @licstart  The following is the entire license notice for the\n// JavaScript code in this page.\n//\n// Copyright 2013 OpenStack Foundation\n// Copyright 2013 Timo Tijhof\n// Copyright 2013 Wikimedia Foundation\n// Copyright 2014 Rackspace Australia\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n// not use this file except in compliance with the License. You may obtain\n// a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n// WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n// License for the specific language governing permissions and limitations\n// under the License.\n//\n// @licend  The above is the entire license notice\n// for the JavaScript code in this page.\n\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'jquery-visibility/jquery-visibility'\nimport 'graphitejs/jquery.graphite.js'\nimport angular from 'angular'\n\nimport './styles/zuul.css'\nimport './jquery.zuul'\nimport { getSourceUrl } from './util'\n\n/**\n * @return The $.zuul instance\n */\nfunction zuulStart ($, $location) {\n  // Start the zuul app (expects default dom)\n\n  let $container, $indicator\n\n  let url = new URL(window.location)\n  let params = {\n    // graphite_url: 'http://graphite.openstack.org/render/'\n  }\n\n  if (typeof BuiltinConfig !== 'undefined') {\n    params['source'] = BuiltinConfig.api_endpoint + '/' + 'status'\n  } else if (url.searchParams.has('source_url')) {\n    params['source'] = url.searchParams.get('source_url') + '/' + 'status'\n  } else if (url.searchParams.has('demo')) {\n    let demo = url.searchParams.get('demo') || 'basic'\n    if (demo === 'basic') {\n      params['source_data'] = DemoStatusBasic\n    } else if (demo === 'openstack') {\n      params['source_data'] = DemoStatusOpenStack\n    } else if (demo === 'tree') {\n      params['source_data'] = DemoStatusTree\n    }\n  } else {\n    params['source'] = getSourceUrl('status', $location)\n  }\n\n  let zuul = $.zuul(params)\n\n  zuul.jq.on('update-start', function () {\n    $container.addClass('zuul-container-loading')\n    $indicator.addClass('zuul-spinner-on')\n  })\n\n  zuul.jq.on('update-end', function () {\n    $container.removeClass('zuul-container-loading')\n    setTimeout(function () {\n      $indicator.removeClass('zuul-spinner-on')\n    }, 500)\n  })\n\n  zuul.jq.one('update-end', function () {\n    // Do this asynchronous so that if the first update adds a\n    // message, it will not animate while we fade in the content.\n    // Instead it simply appears with the rest of the content.\n    setTimeout(function () {\n      // Fade in the content\n      $container.addClass('zuul-container-ready')\n    })\n  })\n\n  $(function ($) {\n    // DOM ready\n    $container = $('#zuul-container')\n    $indicator = $('#zuul-spinner')\n    $('#zuul_controls').append(zuul.app.controlForm())\n\n    zuul.app.schedule()\n\n    $(document).on({\n      'show.visibility': function () {\n        zuul.options.enabled = true\n        zuul.app.update()\n      },\n      'hide.visibility': function () {\n        zuul.options.enabled = false\n      }\n    })\n  })\n\n  return zuul\n}\n\nif (module.hot) {\n  // This doesn't fully work with our jquery plugin because $.zuul is already\n  // instantiated. Leaving it here to show where a hook can happen if we can\n  // figure out a way to live update it. When it's not there, an update to\n  // jquery.zuul.js triggers a page reload.\n  // module.hot.accept('./jquery.zuul', function() {\n  //   console.log('Accepting the updated module!');\n  // })\n}\n\nangular.module('zuulStatus', []).controller(\n  'mainController', function ($scope, $http, $location) {\n    zuulStart(jQuery, $location)\n  }\n)\n","/* global URL, ZUUL_API_URL */\n// @licstart  The following is the entire license notice for the\n// JavaScript code in this page.\n//\n// Copyright 2017 Red Hat\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n// not use this file except in compliance with the License. You may obtain\n// a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n// WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n// License for the specific language governing permissions and limitations\n// under the License.\n//\n// @licend  The above is the entire license notice\n// for the JavaScript code in this page.\n\n// TODO(mordred) This is a temporary hack until we're on @angular/router\nfunction extractTenant (url) {\n  if (url.includes('/t/')) {\n    // This is a multi-tenant deploy, find the tenant\n    const tenantStart = url.lastIndexOf('/t/') + 3\n    const tenantEnd = url.indexOf('/', tenantStart)\n    return url.slice(tenantStart, tenantEnd)\n  } else {\n    return null\n  }\n}\n\n// TODO(mordred) This should be encapsulated in an Angular Service singleton\n// that fetches the other things from the info endpoint.\nexport function getSourceUrl (filename, $location) {\n  if (typeof ZUUL_API_URL !== 'undefined') {\n    return `${ZUUL_API_URL}/api/${filename}`\n  } else {\n    const currentUrl = new URL(window.location)\n    const tenant = extractTenant(currentUrl.href)\n    const baseHref = getBaseHrefFromPath(currentUrl.pathname)\n    if (tenant) {\n      // Multi-tenant deploy. This is at t/a-tenant/x.html\n      return `${baseHref}api/tenant/${tenant}/${filename}`\n    } else {\n      // Whitelabel deploy or tenants list, such as /status.html, /tenants.html\n      // or /zuul/status.html or /zuul/tenants.html\n      return `${baseHref}api/${filename}`\n    }\n  }\n}\n\nfunction getBaseHrefFromPath (path) {\n  if (path.includes('/t/')) {\n    return path.slice(0, path.lastIndexOf('/t/') + 1)\n  } else {\n    return path.split('/').slice(0, -1).join('/') + '/'\n  }\n}\n","/* global Image, jQuery */\n// jquery plugin for Zuul status page\n//\n// @licstart  The following is the entire license notice for the\n// JavaScript code in this page.\n//\n// Copyright 2012 OpenStack Foundation\n// Copyright 2013 Timo Tijhof\n// Copyright 2013 Wikimedia Foundation\n// Copyright 2014 Rackspace Australia\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n// not use this file except in compliance with the License. You may obtain\n// a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n// WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n// License for the specific language governing permissions and limitations\n// under the License.\n//\n// @licend  The above is the entire license notice\n// for the JavaScript code in this page.\n\nimport RedImage from './images/red.png'\nimport GreyImage from './images/grey.png'\nimport GreenImage from './images/green.png'\nimport BlackImage from './images/black.png'\nimport LineImage from './images/line.png'\nimport LineAngleImage from './images/line-angle.png'\nimport LineTImage from './images/line-t.png';\n\n(function ($) {\n  function setCookie (name, value) {\n    document.cookie = name + '=' + value + '; path=/'\n  }\n\n  function readCookie (name, defaultValue) {\n    let nameEQ = name + '='\n    let ca = document.cookie.split(';')\n    for (let i = 0; i < ca.length; i++) {\n      let c = ca[i]\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1, c.length)\n      }\n      if (c.indexOf(nameEQ) === 0) {\n        return c.substring(nameEQ.length, c.length)\n      }\n    }\n    return defaultValue\n  }\n\n  $.zuul = function (options) {\n    options = $.extend({\n      'enabled': true,\n      'graphite_url': '',\n      'source': 'status',\n      'source_data': null,\n      'msg_id': '#zuul_msg',\n      'pipelines_id': '#zuul_pipelines',\n      'queue_events_num': '#zuul_queue_events_num',\n      'queue_management_events_num': '#zuul_queue_management_events_num',\n      'queue_results_num': '#zuul_queue_results_num'\n    }, options)\n\n    let collapsedExceptions = []\n    let currentFilter = readCookie('zuul_filter_string', '')\n    let changeSetInURL = window.location.href.split('#')[1]\n    if (changeSetInURL) {\n      currentFilter = changeSetInURL\n    }\n    let $jq\n\n    let xhr\n    let zuulGraphUpdateCount = 0\n    let zuulSparklineURLs = {}\n\n    function getSparklineURL (pipelineName) {\n      if (options.graphite_url !== '') {\n        if (!(pipelineName in zuulSparklineURLs)) {\n          zuulSparklineURLs[pipelineName] = $.fn.graphite\n                        .geturl({\n                          url: options.graphite_url,\n                          from: '-8hours',\n                          width: 100,\n                          height: 26,\n                          margin: 0,\n                          hideLegend: true,\n                          hideAxes: true,\n                          hideGrid: true,\n                          target: [\n                            'color(stats.gauges.zuul.pipeline.' + pipelineName +\n                                \".current_changes, '6b8182')\"\n                          ]\n                        })\n        }\n        return zuulSparklineURLs[pipelineName]\n      }\n      return false\n    }\n\n    let format = {\n      job: function (job) {\n        let $jobLine = $('<span />')\n\n        if (job.result !== null) {\n          $jobLine.append(\n                        $('<a />')\n                            .addClass('zuul-job-name')\n                            .attr('href', job.report_url)\n                            .text(job.name)\n                    )\n        } else if (job.url !== null) {\n          $jobLine.append(\n                        $('<a />')\n                            .addClass('zuul-job-name')\n                            .attr('href', job.url)\n                            .text(job.name)\n                    )\n        } else {\n          $jobLine.append(\n                        $('<span />')\n                            .addClass('zuul-job-name')\n                            .text(job.name)\n                    )\n        }\n\n        $jobLine.append(this.job_status(job))\n\n        if (job.voting === false) {\n          $jobLine.append(\n                        $(' <small />')\n                            .addClass('zuul-non-voting-desc')\n                            .text(' (non-voting)')\n                    )\n        }\n\n        $jobLine.append($('<div style=\"clear: both\"></div>'))\n        return $jobLine\n      },\n\n      job_status: function (job) {\n        let result = job.result ? job.result.toLowerCase() : null\n        if (result === null) {\n          result = job.url ? 'in progress' : 'queued'\n        }\n\n        if (result === 'in progress') {\n          return this.job_progress_bar(job.elapsed_time,\n                                                        job.remaining_time)\n        } else {\n          return this.status_label(result)\n        }\n      },\n\n      status_label: function (result) {\n        let $status = $('<span />')\n        $status.addClass('zuul-job-result label')\n\n        switch (result) {\n          case 'success':\n            $status.addClass('label-success')\n            break\n          case 'failure':\n            $status.addClass('label-danger')\n            break\n          case 'unstable':\n            $status.addClass('label-warning')\n            break\n          case 'skipped':\n            $status.addClass('label-info')\n            break\n          // 'in progress' 'queued' 'lost' 'aborted' ...\n          default:\n            $status.addClass('label-default')\n        }\n        $status.text(result)\n        return $status\n      },\n\n      job_progress_bar: function (elapsedTime, remainingTime) {\n        let progressPercent = 100 * (elapsedTime / (elapsedTime +\n                                                              remainingTime))\n        let $barInner = $('<div />')\n                    .addClass('progress-bar')\n                    .attr('role', 'progressbar')\n                    .attr('aria-valuenow', 'progressbar')\n                    .attr('aria-valuemin', progressPercent)\n                    .attr('aria-valuemin', '0')\n                    .attr('aria-valuemax', '100')\n                    .css('width', progressPercent + '%')\n\n        let $barOutter = $('<div />')\n                    .addClass('progress zuul-job-result')\n                    .append($barInner)\n\n        return $barOutter\n      },\n\n      enqueueTime: function (ms) {\n        // Special format case for enqueue time to add style\n        let hours = 60 * 60 * 1000\n        let now = Date.now()\n        let delta = now - ms\n        let status = 'text-success'\n        let text = this.time(delta, true)\n        if (delta > (4 * hours)) {\n          status = 'text-danger'\n        } else if (delta > (2 * hours)) {\n          status = 'text-warning'\n        }\n        return '<span class=\"' + status + '\">' + text + '</span>'\n      },\n\n      time: function (ms, words) {\n        if (typeof (words) === 'undefined') {\n          words = false\n        }\n        let seconds = (+ms) / 1000\n        let minutes = Math.floor(seconds / 60)\n        let hours = Math.floor(minutes / 60)\n        seconds = Math.floor(seconds % 60)\n        minutes = Math.floor(minutes % 60)\n        let r = ''\n        if (words) {\n          if (hours) {\n            r += hours\n            r += ' hr '\n          }\n          r += minutes + ' min'\n        } else {\n          if (hours < 10) {\n            r += '0'\n          }\n          r += hours + ':'\n          if (minutes < 10) {\n            r += '0'\n          }\n          r += minutes + ':'\n          if (seconds < 10) {\n            r += '0'\n          }\n          r += seconds\n        }\n        return r\n      },\n\n      changeTotalProgressBar: function (change) {\n        let jobPercent = Math.floor(100 / change.jobs.length)\n        let $barOutter = $('<div />')\n                    .addClass('progress zuul-change-total-result')\n\n        $.each(change.jobs, function (i, job) {\n          let result = job.result ? job.result.toLowerCase() : null\n          if (result === null) {\n            result = job.url ? 'in progress' : 'queued'\n          }\n\n          if (result !== 'queued') {\n            let $barInner = $('<div />')\n                            .addClass('progress-bar')\n\n            switch (result) {\n              case 'success':\n                $barInner.addClass('progress-bar-success')\n                break\n              case 'lost':\n              case 'failure':\n                $barInner.addClass('progress-bar-danger')\n                break\n              case 'unstable':\n                $barInner.addClass('progress-bar-warning')\n                break\n              case 'in progress':\n              case 'queued':\n                break\n            }\n            $barInner.attr('title', job.name)\n                            .css('width', jobPercent + '%')\n            $barOutter.append($barInner)\n          }\n        })\n        return $barOutter\n      },\n\n      changeHeader: function (change) {\n        let changeId = change.id || 'NA'\n\n        let $changeLink = $('<small />')\n        if (change.url !== null) {\n          let githubId = changeId.match(/^([0-9]+),([0-9a-f]{40})$/)\n          if (githubId) {\n            $changeLink.append(\n                            $('<a />').attr('href', change.url).append(\n                                $('<abbr />')\n                                    .attr('title', changeId)\n                                    .text('#' + githubId[1])\n                            )\n                        )\n          } else if (/^[0-9a-f]{40}$/.test(changeId)) {\n            let changeIdShort = changeId.slice(0, 7)\n            $changeLink.append(\n                            $('<a />').attr('href', change.url).append(\n                                $('<abbr />')\n                                    .attr('title', changeId)\n                                    .text(changeIdShort)\n                            )\n                        )\n          } else {\n            $changeLink.append(\n                            $('<a />').attr('href', change.url).text(changeId)\n                        )\n          }\n        } else {\n          if (changeId.length === 40) {\n            changeId = changeId.substr(0, 7)\n          }\n          $changeLink.text(changeId)\n        }\n\n        let $changeProgressRowLeft = $('<div />')\n                    .addClass('col-xs-4')\n                    .append($changeLink)\n        let $changeProgressRowRight = $('<div />')\n                    .addClass('col-xs-8')\n                    .append(this.changeTotalProgressBar(change))\n\n        let $changeProgressRow = $('<div />')\n                    .addClass('row')\n                    .append($changeProgressRowLeft)\n                    .append($changeProgressRowRight)\n\n        let $projectSpan = $('<span />')\n                    .addClass('change_project')\n                    .text(change.project)\n\n        let $left = $('<div />')\n                    .addClass('col-xs-8')\n                    .append($projectSpan, $changeProgressRow)\n\n        let remainingTime = this.time(change.remaining_time, true)\n        let enqueueTime = this.enqueueTime(change.enqueue_time)\n        let $remainingTime = $('<small />').addClass('time')\n                    .attr('title', 'Remaining Time').html(remainingTime)\n        let $enqueueTime = $('<small />').addClass('time')\n                    .attr('title', 'Elapsed Time').html(enqueueTime)\n\n        let $right = $('<div />')\n        if (change.live === true) {\n          $right.addClass('col-xs-4 text-right')\n                        .append($remainingTime, $('<br />'), $enqueueTime)\n        }\n\n        let $header = $('<div />')\n                    .addClass('row')\n                    .append($left, $right)\n        return $header\n      },\n\n      change_list: function (jobs) {\n        let format = this\n        let $list = $('<ul />')\n                    .addClass('list-group zuul-patchset-body')\n\n        $.each(jobs, function (i, job) {\n          let $item = $('<li />')\n                        .addClass('list-group-item')\n                        .addClass('zuul-change-job')\n                        .append(format.job(job))\n          $list.append($item)\n        })\n\n        return $list\n      },\n\n      changePanel: function (change) {\n        let $header = $('<div />')\n                    .addClass('panel-heading zuul-patchset-header')\n                    .append(this.changeHeader(change))\n\n        let panelId = change.id ? change.id.replace(',', '_')\n                                         : change.project.replace('/', '_') +\n                                           '-' + change.enqueue_time\n        let $panel = $('<div />')\n                    .attr('id', panelId)\n                    .addClass('panel panel-default zuul-change')\n                    .append($header)\n                    .append(this.change_list(change.jobs))\n\n        $header.click(this.toggle_patchset)\n        return $panel\n      },\n\n      change_status_icon: function (change) {\n        let iconFile = GreenImage\n        let iconTitle = 'Succeeding'\n\n        if (change.active !== true) {\n          // Grey icon\n          iconFile = GreyImage\n          iconTitle = 'Waiting until closer to head of queue to' +\n                        ' start jobs'\n        } else if (change.live !== true) {\n          // Grey icon\n          iconFile = GreyImage\n          iconTitle = 'Dependent change required for testing'\n        } else if (change.failing_reasons &&\n                         change.failing_reasons.length > 0) {\n          let reason = change.failing_reasons.join(', ')\n          iconTitle = 'Failing because ' + reason\n          if (reason.match(/merge conflict/)) {\n            // Black icon\n            iconFile = BlackImage\n          } else {\n            // Red icon\n            iconFile = RedImage\n          }\n        }\n\n        let $icon = $('<img />')\n                    .attr('src', iconFile)\n                    .attr('title', iconTitle)\n                    .css('margin-top', '-6px')\n\n        return $icon\n      },\n\n      change_with_status_tree: function (change, changeQueue) {\n        let $changeRow = $('<tr />')\n\n        for (let i = 0; i < changeQueue._tree_columns; i++) {\n          let $treeCell = $('<td />')\n                        .css('height', '100%')\n                        .css('padding', '0 0 10px 0')\n                        .css('margin', '0')\n                        .css('width', '16px')\n                        .css('min-width', '16px')\n                        .css('overflow', 'hidden')\n                        .css('vertical-align', 'top')\n\n          if (i < change._tree.length && change._tree[i] !== null) {\n            $treeCell.css('background-image',\n                                       'url(' + LineImage + ')')\n                            .css('background-repeat', 'repeat-y')\n          }\n\n          if (i === change._tree_index) {\n            $treeCell.append(\n                            this.change_status_icon(change))\n          }\n          if (change._tree_branches.indexOf(i) !== -1) {\n            let $image = $('<img />')\n                            .css('vertical-align', 'baseline')\n            if (change._tree_branches.indexOf(i) ===\n                            change._tree_branches.length - 1) {\n              // Angle line\n              $image.attr('src', LineAngleImage)\n            } else {\n              // T line\n              $image.attr('src', LineTImage)\n            }\n            $treeCell.append($image)\n          }\n          $changeRow.append($treeCell)\n        }\n\n        let changeWidth = 360 - 16 * changeQueue._tree_columns\n        let $changeColumn = $('<td />')\n                    .css('width', changeWidth + 'px')\n                    .addClass('zuul-change-cell')\n                    .append(this.changePanel(change))\n\n        $changeRow.append($changeColumn)\n\n        let $changeTable = $('<table />')\n                    .addClass('zuul-change-box')\n                    .css('-moz-box-sizing', 'content-box')\n                    .css('box-sizing', 'content-box')\n                    .append($changeRow)\n\n        return $changeTable\n      },\n\n      pipeline_sparkline: function (pipelineName) {\n        if (options.graphite_url !== '') {\n          let $sparkline = $('<img />')\n                        .addClass('pull-right')\n                        .attr('src', getSparklineURL(pipelineName))\n          return $sparkline\n        }\n        return false\n      },\n\n      pipeline_header: function (pipeline, count) {\n        // Format the pipeline name, sparkline and description\n        let $headerDiv = $('<div />')\n                    .addClass('zuul-pipeline-header')\n\n        let $heading = $('<h3 />')\n                    .css('vertical-align', 'middle')\n                    .text(pipeline.name)\n                    .append(\n                        $('<span />')\n                            .addClass('badge pull-right')\n                            .css('vertical-align', 'middle')\n                            .css('margin-top', '0.5em')\n                            .text(count)\n                    )\n                    .append(this.pipeline_sparkline(pipeline.name))\n\n        $headerDiv.append($heading)\n\n        if (typeof pipeline.description === 'string') {\n          let descr = $('<small />')\n          $.each(pipeline.description.split(/\\r?\\n\\r?\\n/),\n                  function (index, descrPart) {\n                    descr.append($('<p />').text(descrPart))\n                  })\n          $headerDiv.append($('<p />').append(descr))\n        }\n        return $headerDiv\n      },\n\n      pipeline: function (pipeline, count) {\n        let format = this\n        let $html = $('<div />')\n                    .addClass('zuul-pipeline col-md-4')\n                    .append(this.pipeline_header(pipeline, count))\n\n        $.each(pipeline.change_queues, function (queueIndex, changeQueue) {\n          $.each(changeQueue.heads, function (headIndex, changes) {\n            if (pipeline.change_queues.length > 1 && headIndex === 0) {\n              let name = changeQueue.name\n              let shortName = name\n              if (shortName.length > 32) {\n                shortName = shortName.substr(0, 32) + '...'\n              }\n              $html.append($('<p />')\n                            .text('Queue: ')\n                            .append(\n                                $('<abbr />')\n                                .attr('title', name)\n                                .text(shortName)\n                                )\n                            )\n            }\n\n            $.each(changes, function (changeIndex, change) {\n              let $changeBox =\n                        format.change_with_status_tree(\n                                change, changeQueue)\n              $html.append($changeBox)\n              format.display_patchset($changeBox)\n            })\n          })\n        })\n        return $html\n      },\n\n      toggle_patchset: function (e) {\n        // Toggle showing/hiding the patchset when the header is clicked.\n        if (e.target.nodeName.toLowerCase() === 'a') {\n                    // Ignore clicks from gerrit patch set link\n          return\n        }\n\n        // Grab the patchset panel\n        let $panel = $(e.target).parents('.zuul-change')\n        let $body = $panel.children('.zuul-patchset-body')\n        $body.toggle(200)\n        let collapsedIndex = collapsedExceptions.indexOf(\n                    $panel.attr('id'))\n        if (collapsedIndex === -1) {\n          // Currently not an exception, add it to list\n          collapsedExceptions.push($panel.attr('id'))\n        } else {\n          // Currently an except, remove from exceptions\n          collapsedExceptions.splice(collapsedIndex, 1)\n        }\n      },\n\n      display_patchset: function ($changeBox, animate) {\n        // Determine if to show or hide the patchset and/or the results\n        // when loaded\n\n        // See if we should hide the body/results\n        let $panel = $changeBox.find('.zuul-change')\n        let panelChange = $panel.attr('id')\n        let $body = $panel.children('.zuul-patchset-body')\n        let expandByDefault = $('#expand_by_default')\n                    .prop('checked')\n\n        let collapsedIndex = collapsedExceptions\n                    .indexOf(panelChange)\n\n        if ((expandByDefault && collapsedIndex === -1) ||\n                    (!expandByDefault && collapsedIndex !== -1)) {\n          // Expand by default, or is an exception\n          $body.show(animate)\n        } else {\n          $body.hide(animate)\n        }\n\n        // Check if we should hide the whole panel\n        let panelProject = $panel.find('.change_project').text()\n                    .toLowerCase()\n\n        let panelPipeline = $changeBox\n                    .parents('.zuul-pipeline')\n                    .find('.zuul-pipeline-header > h3')\n                    .html()\n                    .toLowerCase()\n\n        if (currentFilter !== '') {\n          let showPanel = false\n          let filter = currentFilter.trim().split(/[\\s,]+/)\n          $.each(filter, function (index, filterVal) {\n            if (filterVal !== '') {\n              filterVal = filterVal.toLowerCase()\n              if (panelProject.indexOf(filterVal) !== -1 ||\n                      panelPipeline.indexOf(filterVal) !== -1 ||\n                      panelChange.indexOf(filterVal) !== -1) {\n                showPanel = true\n              }\n            }\n          })\n          if (showPanel === true) {\n            $changeBox.show(animate)\n          } else {\n            $changeBox.hide(animate)\n          }\n        } else {\n          $changeBox.show(animate)\n        }\n      }\n    }\n\n    let app = {\n      schedule: function (app) {\n        app = app || this\n        if (!options.enabled) {\n          setTimeout(function () { app.schedule(app) }, 5000)\n          return\n        }\n        app.update().always(function () {\n          setTimeout(function () { app.schedule(app) }, 5000)\n        })\n\n        // Only update graphs every minute\n        if (zuulGraphUpdateCount > 11) {\n          zuulGraphUpdateCount = 0\n          $.zuul.update_sparklines()\n        }\n      },\n      injest: function (data, $msg) {\n        if ('message' in data) {\n          $msg.removeClass('alert-danger')\n                        .addClass('alert-info')\n                        .text(data.message)\n                        .show()\n        } else {\n          $msg.empty()\n                        .hide()\n        }\n\n        if ('zuul_version' in data) {\n          $('#zuul-version-span').text(data.zuul_version)\n        }\n        if ('last_reconfigured' in data) {\n          let lastReconfigured =\n                        new Date(data.last_reconfigured)\n          $('#last-reconfigured-span').text(\n                        lastReconfigured.toString())\n        }\n\n        let $pipelines = $(options.pipelines_id)\n        $pipelines.html('')\n        $.each(data.pipelines, function (i, pipeline) {\n          let count = app.create_tree(pipeline)\n          $pipelines.append(\n                        format.pipeline(pipeline, count))\n        })\n\n        $(options.queue_events_num).text(\n                    data.trigger_event_queue\n                        ? data.trigger_event_queue.length : '0'\n                )\n        $(options.queue_results_num).text(\n                    data.result_event_queue\n                        ? data.result_event_queue.length : '0'\n                )\n      },\n      /** @return {jQuery.Promise} */\n      update: function () {\n        // Cancel the previous update if it hasn't completed yet.\n        if (xhr) {\n          xhr.abort()\n        }\n\n        this.emit('update-start')\n        let app = this\n\n        let $msg = $(options.msg_id)\n        if (options.source_data !== null) {\n          app.injest(options.source_data, $msg)\n          return\n        }\n        xhr = $.getJSON(options.source)\n                    .done(function (data) {\n                      app.injest(data, $msg)\n                    })\n                    .fail(function (jqXHR, statusText, errMsg) {\n                      if (statusText === 'abort') {\n                        return\n                      }\n                      $msg.text(options.source + ': ' + errMsg)\n                            .addClass('alert-danger')\n                            .removeClass('zuul-msg-wrap-off')\n                            .show()\n                    })\n                    .always(function () {\n                      xhr = undefined\n                      app.emit('update-end')\n                    })\n\n        return xhr\n      },\n\n      update_sparklines: function () {\n        $.each(zuulSparklineURLs, function (name, url) {\n          let newimg = new Image()\n          let parts = url.split('#')\n          newimg.src = parts[0] + '#' + new Date().getTime()\n          $(newimg).load(function () {\n            zuulSparklineURLs[name] = newimg.src\n          })\n        })\n      },\n\n      emit: function () {\n        $jq.trigger.apply($jq, arguments)\n        return this\n      },\n      on: function () {\n        $jq.on.apply($jq, arguments)\n        return this\n      },\n      one: function () {\n        $jq.one.apply($jq, arguments)\n        return this\n      },\n\n      controlForm: function () {\n        // Build the filter form filling anything from cookies\n\n        let $controlForm = $('<form />')\n                    .attr('role', 'form')\n                    .addClass('form-inline')\n                    .submit(this.handleFilterChange)\n\n        $controlForm\n                    .append(this.filterFormGroup())\n                    .append(this.expandFormGroup())\n\n        return $controlForm\n      },\n\n      filterFormGroup: function () {\n        // Update the filter form with a clear button if required\n\n        let $label = $('<label />')\n                    .addClass('control-label')\n                    .attr('for', 'filter_string')\n                    .text('Filters')\n                    .css('padding-right', '0.5em')\n\n        let $input = $('<input />')\n                    .attr('type', 'text')\n                    .attr('id', 'filter_string')\n                    .addClass('form-control')\n                    .attr('title',\n                          'project(s), pipeline(s) or review(s) comma ' +\n                          'separated')\n                    .attr('value', currentFilter)\n\n        $input.change(this.handleFilterChange)\n\n        let $clearIcon = $('<span />')\n                    .addClass('form-control-feedback')\n                    .addClass('glyphicon glyphicon-remove-circle')\n                    .attr('id', 'filter_form_clear_box')\n                    .attr('title', 'clear filter')\n                    .css('cursor', 'pointer')\n\n        $clearIcon.click(function () {\n          $('#filter_string').val('').change()\n        })\n\n        if (currentFilter === '') {\n          $clearIcon.hide()\n        }\n\n        let $formGroup = $('<div />')\n                    .addClass('form-group has-feedback')\n                    .append($label, $input, $clearIcon)\n        return $formGroup\n      },\n\n      expandFormGroup: function () {\n        let expandByDefault = (\n                    readCookie('zuul_expand_by_default', false) === 'true')\n\n        let $checkbox = $('<input />')\n                    .attr('type', 'checkbox')\n                    .attr('id', 'expand_by_default')\n                    .prop('checked', expandByDefault)\n                    .change(this.handleExpandByDefault)\n\n        let $label = $('<label />')\n                    .css('padding-left', '1em')\n                    .html('Expand by default: ')\n                    .append($checkbox)\n\n        let $formGroup = $('<div />')\n                    .addClass('checkbox')\n                    .append($label)\n        return $formGroup\n      },\n\n      handleFilterChange: function () {\n        // Update the filter and save it to a cookie\n        currentFilter = $('#filter_string').val()\n        setCookie('zuul_filter_string', currentFilter)\n        if (currentFilter === '') {\n          $('#filter_form_clear_box').hide()\n        } else {\n          $('#filter_form_clear_box').show()\n        }\n\n        $('.zuul-change-box').each(function (index, obj) {\n          let $changeBox = $(obj)\n          format.display_patchset($changeBox, 200)\n        })\n        return false\n      },\n\n      handleExpandByDefault: function (e) {\n        // Handle toggling expand by default\n        setCookie('zuul_expand_by_default', e.target.checked)\n        collapsedExceptions = []\n        $('.zuul-change-box').each(function (index, obj) {\n          let $changeBox = $(obj)\n          format.display_patchset($changeBox, 200)\n        })\n      },\n\n      create_tree: function (pipeline) {\n        let count = 0\n        let pipelineMaxTreeColumns = 1\n        $.each(pipeline.change_queues,\n                function (changeQueueIndex, changeQueue) {\n                  let tree = []\n                  let maxTreeColumns = 1\n                  let changes = []\n                  let lastTreeLength = 0\n                  $.each(changeQueue.heads, function (headIndex, head) {\n                    $.each(head, function (changeIndex, change) {\n                      changes[change.id] = change\n                      change._tree_position = changeIndex\n                    })\n                  })\n                  $.each(changeQueue.heads, function (headIndex, head) {\n                    $.each(head, function (changeIndex, change) {\n                      if (change.live === true) {\n                        count += 1\n                      }\n                      let idx = tree.indexOf(change.id)\n                      if (idx > -1) {\n                        change._tree_index = idx\n                        // remove...\n                        tree[idx] = null\n                        while (tree[tree.length - 1] === null) {\n                          tree.pop()\n                        }\n                      } else {\n                        change._tree_index = 0\n                      }\n                      change._tree_branches = []\n                      change._tree = []\n                      if (typeof (change.items_behind) === 'undefined') {\n                        change.items_behind = []\n                      }\n                      change.items_behind.sort(function (a, b) {\n                        return (changes[b]._tree_position - changes[a]._tree_position)\n                      })\n                      $.each(change.items_behind, function (i, id) {\n                        tree.push(id)\n                        if (tree.length > lastTreeLength && lastTreeLength > 0) {\n                          change._tree_branches.push(tree.length - 1)\n                        }\n                      })\n                      if (tree.length > maxTreeColumns) {\n                        maxTreeColumns = tree.length\n                      }\n                      if (tree.length > pipelineMaxTreeColumns) {\n                        pipelineMaxTreeColumns = tree.length\n                      }\n                      change._tree = tree.slice(0) // make a copy\n                      lastTreeLength = tree.length\n                    })\n                  })\n                  changeQueue._tree_columns = maxTreeColumns\n                })\n        pipeline._tree_columns = pipelineMaxTreeColumns\n        return count\n      }\n    }\n\n    $jq = $(app)\n    return {\n      options: options,\n      format: format,\n      app: app,\n      jq: $jq\n    }\n  }\n}(jQuery))\n","// @licstart  The following is the entire license notice for the\n// JavaScript code in this page.\n//\n// Copyright 2017 Red Hat\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n// not use this file except in compliance with the License. You may obtain\n// a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n// WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n// License for the specific language governing permissions and limitations\n// under the License.\n//\n// @licend  The above is the entire license notice\n// for the JavaScript code in this page.\n\nimport 'bootstrap/dist/css/bootstrap.css'\nimport angular from 'angular'\n\nimport './styles/zuul.css'\nimport './jquery.zuul'\nimport { getSourceUrl } from './util'\n\nangular.module('zuulTenants', []).controller(\n    'mainController', function ($scope, $http, $location) {\n      $scope.tenants = undefined\n      $scope.tenants_fetch = function () {\n        $http.get(getSourceUrl('tenants', $location))\n            .then(function success (result) {\n              $scope.tenants = result.data\n            })\n      }\n      $scope.tenants_fetch()\n    })\n\nangular.module('zuulJobs', [], function ($locationProvider) {\n  $locationProvider.html5Mode({\n    enabled: true,\n    requireBase: false\n  })\n}).controller(\n    'mainController', function ($scope, $http, $location) {\n      $scope.jobs = undefined\n      $scope.jobs_fetch = function () {\n        $http.get(getSourceUrl('jobs', $location))\n            .then(function success (result) {\n              $scope.jobs = result.data\n            })\n      }\n      $scope.jobs_fetch()\n    })\n\nangular.module('zuulBuilds', [], function ($locationProvider) {\n  $locationProvider.html5Mode({\n    enabled: true,\n    requireBase: false\n  })\n}).controller('mainController', function ($scope, $http, $location) {\n  $scope.rowClass = function (build) {\n    if (build.result === 'SUCCESS') {\n      return 'success'\n    } else {\n      return 'warning'\n    }\n  }\n  let queryArgs = $location.search()\n  let url = $location.url()\n  if (queryArgs['source_url']) {\n    $scope.tenant = undefined\n  } else {\n    let tenantStart = url.lastIndexOf(\n      '/', url.lastIndexOf('/builds.html') - 1) + 1\n    let tenantLength = url.lastIndexOf('/builds.html') - tenantStart\n    $scope.tenant = url.substr(tenantStart, tenantLength)\n  }\n  $scope.builds = undefined\n  if (queryArgs['pipeline']) {\n    $scope.pipeline = queryArgs['pipeline']\n  } else { $scope.pipeline = '' }\n  if (queryArgs['job_name']) {\n    $scope.job_name = queryArgs['job_name']\n  } else { $scope.job_name = '' }\n  if (queryArgs['project']) {\n    $scope.project = queryArgs['project']\n  } else { $scope.project = '' }\n  $scope.builds_fetch = function () {\n    let queryString = ''\n    if ($scope.tenant) { queryString += '&tenant=' + $scope.tenant }\n    if ($scope.pipeline) { queryString += '&pipeline=' + $scope.pipeline }\n    if ($scope.job_name) { queryString += '&job_name=' + $scope.job_name }\n    if ($scope.project) { queryString += '&project=' + $scope.project }\n    if (queryString !== '') { queryString = '?' + queryString.substr(1) }\n    $http.get(getSourceUrl('builds', $location) + queryString)\n            .then(function success (result) {\n              for (let buildPos = 0;\n                     buildPos < result.data.length;\n                     buildPos += 1) {\n                let build = result.data[buildPos]\n                if (build.node_name == null) {\n                  build.node_name = 'master'\n                }\n                /* Fix incorect url for post_failure job */\n                if (build.log_url === build.job_name) {\n                  build.log_url = undefined\n                }\n              }\n              $scope.builds = result.data\n            })\n  }\n  $scope.builds_fetch()\n})\n","/* global URL, WebSocket, BuiltinConfig */\n// Client script for Zuul Log Streaming\n//\n// @licstart  The following is the entire license notice for the\n// JavaScript code in this page.\n//\n// Copyright 2017 BMW Car IT GmbH\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n// not use this file except in compliance with the License. You may obtain\n// a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n// WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n// License for the specific language governing permissions and limitations\n// under the License.\n//\n// @licend  The above is the entire license notice for the JavaScript code in\n// this page.\n\nimport angular from 'angular'\nimport './styles/stream.css'\n\nimport { getSourceUrl } from './util'\n\nfunction escapeLog (text) {\n  const pattern = /[<>&\"']/g\n\n  return text.replace(pattern, function (match) {\n    return '&#' + match.charCodeAt(0) + ';'\n  })\n}\n\nfunction zuulStartStream ($location) {\n  let pageUpdateInMS = 250\n  let receiveBuffer = ''\n\n  setInterval(function () {\n    console.log('autoScroll')\n    if (receiveBuffer !== '') {\n      document.getElementById('zuulstreamcontent').innerHTML += receiveBuffer\n      receiveBuffer = ''\n      if (document.getElementById('autoscroll').checked) {\n        window.scrollTo(0, document.body.scrollHeight)\n      }\n    }\n  }, pageUpdateInMS)\n\n  let url = new URL(window.location)\n\n  let params = {\n    uuid: url.searchParams.get('uuid')\n  }\n  document.getElementById('pagetitle').innerHTML = params['uuid']\n  if (url.searchParams.has('logfile')) {\n    params['logfile'] = url.searchParams.get('logfile')\n    let logfileSuffix = `(${params['logfile']})`\n    document.getElementById('pagetitle').innerHTML += logfileSuffix\n  }\n  if (typeof BuiltinConfig !== 'undefined') {\n    params['websocket_url'] = BuiltinConfig.websocket_url\n  } else if (url.searchParams.has('websocket_url')) {\n    params['websocket_url'] = url.searchParams.get('websocket_url')\n  } else {\n    // Websocket doesn't accept relative urls so construct an\n    // absolute one.\n    let protocol = ''\n    if (url['protocol'] === 'https:') {\n      protocol = 'wss://'\n    } else {\n      protocol = 'ws://'\n    }\n    let path = getSourceUrl('console-stream', $location)\n    params['websocket_url'] = protocol + url['host'] + path\n  }\n  let ws = new WebSocket(params['websocket_url'])\n\n  ws.onmessage = function (event) {\n    console.log('onmessage')\n    receiveBuffer = receiveBuffer + escapeLog(event.data)\n  }\n\n  ws.onopen = function (event) {\n    console.log('onopen')\n    ws.send(JSON.stringify(params))\n  }\n\n  ws.onclose = function (event) {\n    console.log('onclose')\n    receiveBuffer = receiveBuffer + '\\n--- END OF STREAM ---\\n'\n  }\n}\n\nangular.module('zuulStream', []).controller(\n  'mainController', function ($scope, $http, $location) {\n    window.onload = zuulStartStream($location)\n  }\n)\n","module.exports = __webpack_public_path__ + \"dbfefd12cb30c26c924acf70ada2e9b0.png\";","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"body#zuulstream {\\n  font-family: monospace;\\n  background-color: black;\\n  color: lightgrey;\\n}\\n\\n#zuulstreamoverlay {\\n    position: fixed;\\n    top: 5px;\\n    right: 5px;\\n    background-color: darkgrey;\\n    color: black;\\n}\\n\\npre#zuulstreamcontent {\\n    white-space: pre;\\n    margin: 0px 10px;\\n    background-color: black;\\n    color: lightgrey;\\n    border: none;\\n}\\n\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".zuul-change {\\n    margin-bottom: 10px;\\n}\\n\\n.zuul-change-id {\\n    float: right;\\n}\\n\\n.zuul-job-result {\\n    float: right;\\n    width: 70px;\\n    height: 15px;\\n    margin: 2px 0 0 0;\\n}\\n\\n.zuul-change-total-result {\\n    height: 10px;\\n    width: 100px;\\n    margin: 0;\\n    display: inline-block;\\n    vertical-align: middle;\\n}\\n\\n.zuul-spinner,\\n.zuul-spinner:hover {\\n    opacity: 0;\\n    transition: opacity 0.5s ease-out;\\n    cursor: default;\\n    pointer-events: none;\\n}\\n\\n.zuul-spinner-on,\\n.zuul-spinner-on:hover {\\n    opacity: 1;\\n    transition-duration: 0.2s;\\n    cursor: progress;\\n}\\n\\n.zuul-change-cell {\\n    padding-left: 5px;\\n}\\n\\n.zuul-change-job {\\n    padding: 2px 8px;\\n}\\n\\n.zuul-job-name {\\n    font-size: small;\\n}\\n\\n.zuul-non-voting-desc {\\n    font-size: smaller;\\n}\\n\\n.zuul-patchset-header {\\n    font-size: small;\\n    padding: 8px 12px;\\n}\\n\", \"\"]);\n\n// exports\n","module.exports = __webpack_public_path__ + \"c20a5f7b85b3ad41429b811add54955f.png\";","\nvar content = require(\"!!../../node_modules/css-loader/index.js!./zuul.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./zuul.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./zuul.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","module.exports = __webpack_public_path__ + \"6da86d4beaea6c9cdbb59846a65c88d1.png\";","// Main library entrypoint\n//\n// @licstart  The following is the entire license notice for the\n// JavaScript code in this page.\n//\n// Copyright 2018 Red Hat, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n// not use this file except in compliance with the License. You may obtain\n// a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n// WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n// License for the specific language governing permissions and limitations\n// under the License.\n//\n// @licend  The above is the entire license notice\n// for the JavaScript code in this page.\n\nimport './status'\nimport './stream'\nimport './dashboard'\n","module.exports = __webpack_public_path__ + \"10c08a88bc7031af2186d98eb9998041.png\";","\nvar content = require(\"!!../../node_modules/css-loader/index.js!./stream.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./stream.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./stream.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","module.exports = __webpack_public_path__ + \"588574b26faf1bc1ca8f4d66adaa93c9.png\";","module.exports = __webpack_public_path__ + \"8c78e2f2c92607edefb893c6d70c5291.png\";"],"sourceRoot":""}